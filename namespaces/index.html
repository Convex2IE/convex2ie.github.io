



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Namespaces - Convex's Blog</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#namespaces" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Convex's Blog" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Convex's Blog
            </span>
            <span class="md-header-nav__topic">
              Namespaces
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Convex's Blog" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Convex's Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Openstack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Openstack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Networking (neutron) concepts/" title="Networking (neutron) concepts" class="md-nav__link">
      Networking (neutron) concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack Keystone/" title="Openstack Keystone" class="md-nav__link">
      Openstack Keystone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Identity service overview/" title="Identity service overview" class="md-nav__link">
      Identity service overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Namespaces
      </label>
    
    <a href="./" title="Namespaces" class="md-nav__link md-nav__link--active">
      Namespaces
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#namespaces" title="NameSpaces" class="md-nav__link">
    NameSpaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cgroup-namespace" title="cgroup namespace" class="md-nav__link">
    cgroup namespace
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cgroup" title="cgroup" class="md-nav__link">
    cgroup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipc-namespaces" title="IPC namespaces" class="md-nav__link">
    IPC namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-namespaces" title="Network namespaces" class="md-nav__link">
    Network namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mount-namespaces" title="Mount namespaces" class="md-nav__link">
    Mount namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pid-namespaces" title="PID namespaces" class="md-nav__link">
    PID namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-namespaces" title="User namespaces" class="md-nav__link">
    User namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uts-namespaces" title="UTS namespaces" class="md-nav__link">
    UTS namespaces
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Cinder Installation Tutorial for Ubuntu/" title="Cinder Installation Tutorial for Ubuntu" class="md-nav__link">
      Cinder Installation Tutorial for Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Cinder Installation Tutorial/" title="Cinder Installation Tutorial" class="md-nav__link">
      Cinder Installation Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Introduction to Object Storage/" title="Introduction to Object Storage" class="md-nav__link">
      Introduction to Object Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Keystone_Token/" title="Keystone Token" class="md-nav__link">
      Keystone Token
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Networking service overview/" title="Networking service overview" class="md-nav__link">
      Networking service overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack Image Service/" title="Openstack Image Service" class="md-nav__link">
      Openstack Image Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Block Storage/" title="Openstack Block Storage" class="md-nav__link">
      Openstack Block Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Log/" title="Openstack_Log" class="md-nav__link">
      Openstack_Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_ML2 Core Plugin/" title="Openstack ML2 Core Plugin" class="md-nav__link">
      Openstack ML2 Core Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Neutron Server/" title="Openstack Neutron Server" class="md-nav__link">
      Openstack Neutron Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Neutron_Concept/" title="Openstack Neutron Concept" class="md-nav__link">
      Openstack Neutron Concept
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Neutron_T/" title="Openstack Neutron T" class="md-nav__link">
      Openstack Neutron T
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Policy.json/" title="Openstack_Policy.json" class="md-nav__link">
      Openstack_Policy.json
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/Openstack_Tenant_to_Resource/" title="Openstack Tenant to Resource" class="md-nav__link">
      Openstack Tenant to Resource
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Openstack/json/" title="Json" class="md-nav__link">
      Json
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#namespaces" title="NameSpaces" class="md-nav__link">
    NameSpaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cgroup-namespace" title="cgroup namespace" class="md-nav__link">
    cgroup namespace
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cgroup" title="cgroup" class="md-nav__link">
    cgroup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipc-namespaces" title="IPC namespaces" class="md-nav__link">
    IPC namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-namespaces" title="Network namespaces" class="md-nav__link">
    Network namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mount-namespaces" title="Mount namespaces" class="md-nav__link">
    Mount namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pid-namespaces" title="PID namespaces" class="md-nav__link">
    PID namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-namespaces" title="User namespaces" class="md-nav__link">
    User namespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uts-namespaces" title="UTS namespaces" class="md-nav__link">
    UTS namespaces
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Namespaces</h1>
                
                <h2 id="namespaces">NameSpaces</h2>
<p>A  namespace wraps a global system resource in an abstraction that makes it appear to the processes within the namespace that they have their own isolated instance of the global resource.  Changes to the  global  resource are  visible  to other processes that are members of the namespace, but are invisible to other processes.  One use of namespaces is to implement containers.</p>
<p><strong>Linux provides the following namespaces:</strong></p>
<pre><code>   Namespace   Constant          Isolates
   Cgroup      CLONE_NEWCGROUP   Cgroup root directory
   IPC         CLONE_NEWIPC      System V IPC, POSIX message queues
   Network     CLONE_NEWNET      Network devices, stacks, ports, etc.
   Mount       CLONE_NEWNS       Mount points
   PID         CLONE_NEWPID      Process IDs
   User        CLONE_NEWUSER     User and group IDs
   UTS         CLONE_NEWUTS      Hostname and NIS domain name
</code></pre>
<h4 id="cgroup-namespace">cgroup namespace</h4>
<h5 id="cgroup">cgroup</h5>
<p>Linux control groups. Control  cgroups, usually referred to as cgroups, are a Linux kernel feature which allow processes to be organized into hierarchical groups whose usage of various types of resources can then be  limited  and  monitored. The  kernel's  cgroup  interface  is provided through a pseudo-filesystem called cgroupfs.  Grouping is implemented in the core cgroup kernel code, while resource tracking and limits are implemented in  a  set  of  per-resource-type subsystems (memory, CPU, and so on).</p>
<h4 id="ipc-namespaces">IPC namespaces</h4>
<p>IPC  namespaces isolate certain IPC resources, namely, System V IPC objects (see svipc(7)) and (since Linux 2.6.30) POSIX message queues (see mq_overview(7)).  The common characteristic of these IPC mechanisms is that IPC objects are identified by mechanisms other than filesystem pathnames.</p>
<p>Each IPC namespace has its own set of System V IPC identifiers and its own POSIX message queue filesystem.  Objects created in an IPC namespace are visible to all other processes that are members of that namespace, but are not visible to processes in other IPC namespaces.</p>
<h4 id="network-namespaces">Network namespaces</h4>
<p>Network  namespaces  provide  isolation of the system resources associated with networking: network devices, IPv4 and IPv6 protocol stacks, IP routing tables, firewall rules, the /proc/net directory (which is a symbolic link to /proc/PID/net), the /sys/class/net directory, various files under /proc/sys/net, port numbers (sockets), and so on.  In addition, network namespaces isolate the UNIX domain abstract socket namespace (see unix(7)).</p>
<p>A  physical  network  device can live in exactly one network namespace.  When a network namespace is freed (i.e., when the last process in the namespace terminates), its physical network devices are moved back to the initial network namespace (not to the parent of the process).</p>
<p>A virtual network (veth(4)) device pair provides a pipe-like abstraction that can be used to create tunnels between network namespaces, and can be used to create a  bridge  to  a physical network device in another namespace.  When a namespace is freed, the veth(4) devices that it contains are destroyed.</p>
<p>Use of network namespaces requires a kernel that is configured with the CONFIG_NET_NS option.</p>
<h4 id="mount-namespaces">Mount namespaces</h4>
<p>Mount  namespaces  provide  isolation  of the list of mount points seen by the processes in each namespace instance.  Thus, the processes in each of the mount namespace instances will see distinct single-directory hierarchies.</p>
<p>The views provided by the /proc/[pid]/mounts, /proc/[pid]/mountinfo, and /proc/[pid]/mountstats files (all described in proc(5)) correspond to the mount namespace  in  which  the process with the PID [pid] resides.  (All of the processes that reside in the same mount namespace will see the same view in these files.)</p>
<p>When  a  process  creates a new mount namespace using clone(2) or unshare(2) with the CLONE_NEWNS flag, the mount point list for the new namespace is a copy of the caller's mount point list.  Subsequent modifications to the mount point list (mount(2) and umount(2)) in either mount namespace will not (by default) affect the mount point  list  seen  in  the other namespace (but see the following discussion of shared subtrees).</p>
<h4 id="pid-namespaces">PID namespaces</h4>
<p>PID  namespaces  isolate  the process ID number space, meaning that processes in different PID namespaces can have the same PID.  PID namespaces allow containers to provide func tionality such as suspending/resuming the set of processes in the container and migrating the container to a new host while the processes inside the container maintain  the  same PIDs.</p>
<p>PIDs in a new PID namespace start at 1, somewhat like a standalone system, and calls to fork(2), vfork(2), or clone(2) will produce processes with PIDs that are unique within the namespace.</p>
<p>Use of PID namespaces requires a kernel that is configured with the CONFIG_PID_NS option.</p>
<h4 id="user-namespaces">User namespaces</h4>
<p>User  namespaces  isolate security-related identifiers and attributes, in particular, user IDs and group IDs (see credentials(7)), the root directory, keys (see keyrings(7)), and capabilities (see capabilities(7)).  A process's user and group IDs can be different inside and outside a user namespace.  In particular, a process can have a normal unprivileged user ID outside a user namespace while at the same time having a user ID of 0 inside the namespace; in other words, the process has full privileges for operations inside the user namespace, but is unprivileged for operations outside the namespace.</p>
<h4 id="uts-namespaces">UTS namespaces</h4>
<p>UTS namespaces provide isolation of two system identifiers: the hostname and the NIS domain name.  These identifiers are set using sethostname(2) and setdomainname(2), and can be retrieved using uname(2), gethostname(2), and getdomainname(2).</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Openstack/Identity service overview/" title="Identity service overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Identity service overview
              </span>
            </div>
          </a>
        
        
          <a href="../Openstack/Cinder Installation Tutorial for Ubuntu/" title="Cinder Installation Tutorial for Ubuntu" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Cinder Installation Tutorial for Ubuntu
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>