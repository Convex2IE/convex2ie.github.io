



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Dockerfile - Convex's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#dockerfile" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Convex's Blog" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Convex's Blog
            </span>
            <span class="md-header-nav__topic">
              Dockerfile
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Convex's Blog" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Convex's Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Openstack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Openstack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Networking (neutron) concepts/" title="Networking (neutron) concepts" class="md-nav__link">
      Networking (neutron) concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack Keystone/" title="Openstack Keystone" class="md-nav__link">
      Openstack Keystone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Identity service overview/" title="Identity service overview" class="md-nav__link">
      Identity service overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../namespaces/" title="Namespaces" class="md-nav__link">
      Namespaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Cinder Installation Tutorial for Ubuntu/" title="Cinder Installation Tutorial for Ubuntu" class="md-nav__link">
      Cinder Installation Tutorial for Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Cinder Installation Tutorial/" title="Cinder Installation Tutorial" class="md-nav__link">
      Cinder Installation Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Introduction to Object Storage/" title="Introduction to Object Storage" class="md-nav__link">
      Introduction to Object Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Keystone_Token/" title="Keystone Token" class="md-nav__link">
      Keystone Token
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Networking service overview/" title="Networking service overview" class="md-nav__link">
      Networking service overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack Image Service/" title="Openstack Image Service" class="md-nav__link">
      Openstack Image Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Block Storage/" title="Openstack Block Storage" class="md-nav__link">
      Openstack Block Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Log/" title="Openstack_Log" class="md-nav__link">
      Openstack_Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_ML2 Core Plugin/" title="Openstack ML2 Core Plugin" class="md-nav__link">
      Openstack ML2 Core Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Neutron Server/" title="Openstack Neutron Server" class="md-nav__link">
      Openstack Neutron Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Neutron_Concept/" title="Openstack Neutron Concept" class="md-nav__link">
      Openstack Neutron Concept
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Neutron_T/" title="Openstack Neutron T" class="md-nav__link">
      Openstack Neutron T
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Policy.json/" title="Openstack_Policy.json" class="md-nav__link">
      Openstack_Policy.json
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/Openstack_Tenant_to_Resource/" title="Openstack Tenant to Resource" class="md-nav__link">
      Openstack Tenant to Resource
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Openstack/json/" title="Json" class="md-nav__link">
      Json
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      AI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        AI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../AI/DeepinMind/" title="DeepinMind" class="md-nav__link">
      DeepinMind
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../AI/neuron/" title="Neuron" class="md-nav__link">
      Neuron
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Daily
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Daily
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      2017
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        2017
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2017/0831/" title="0831" class="md-nav__link">
      0831
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2017/0904/" title="0904" class="md-nav__link">
      0904
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2017/0905/" title="0905" class="md-nav__link">
      0905
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      2018
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        2018
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2018/KVM嵌套虚拟化/" title="KVM嵌套虚拟化" class="md-nav__link">
      KVM嵌套虚拟化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2018/Linux图形界面/" title="Linux图形界面" class="md-nav__link">
      Linux图形界面
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2018/firewalld/" title="Firewalld" class="md-nav__link">
      Firewalld
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2018/gnome文件管理器修改/" title="Gnome文件管理器修改" class="md-nav__link">
      Gnome文件管理器修改
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2018/uefi+gpt+grub+lvm/" title="Uefi+gpt+grub+lvm" class="md-nav__link">
      Uefi+gpt+grub+lvm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2018/virt-manager自动调整VM窗口大小/" title="virt manager自动调整VM窗口大小" class="md-nav__link">
      virt manager自动调整VM窗口大小
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      2019
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        2019
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3-1" type="checkbox" id="nav-4-3-1">
    
    <label class="md-nav__link" for="nav-4-3-1">
      1
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-1">
        1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/01/mariadb_character/" title="Mariadb character" class="md-nav__link">
      Mariadb character
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/01/pip install mysqlclient error /" title="Pip install mysqlclient error " class="md-nav__link">
      Pip install mysqlclient error 
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3-2" type="checkbox" id="nav-4-3-2">
    
    <label class="md-nav__link" for="nav-4-3-2">
      2
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-2">
        2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/02/curl build openstackRESTAPI/" title="curl build openstackRESTAPI" class="md-nav__link">
      curl build openstackRESTAPI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3-3" type="checkbox" id="nav-4-3-3">
    
    <label class="md-nav__link" for="nav-4-3-3">
      3
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-3">
        3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/03/Event-driven programming/" title="Event driven programming" class="md-nav__link">
      Event driven programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/03/Openvswitch/" title="Openvswitch" class="md-nav__link">
      Openvswitch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/03/Portable Operating System Interface/" title="Portable Operating System Interface" class="md-nav__link">
      Portable Operating System Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/03/RUID & EUID & SUID/" title="RUID & EUID & SUID" class="md-nav__link">
      RUID & EUID & SUID
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/03/nginx/" title="Nginx" class="md-nav__link">
      Nginx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Daily/2019/03/ps/" title="Ps" class="md-nav__link">
      Ps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Base/" title="Base" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Dockerfile
      </label>
    
    <a href="./" title="Dockerfile" class="md-nav__link md-nav__link--active">
      Dockerfile
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dockerfile" title="Dockerfile" class="md-nav__link">
    Dockerfile
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge/" title="Bridge" class="md-nav__link">
      Bridge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerfile cmd/" title="Dockerfile cmd" class="md-nav__link">
      Dockerfile cmd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../namespaces/" title="Namespaces" class="md-nav__link">
      Namespaces
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Manual/cgroup/" title="Cgroup" class="md-nav__link">
      Cgroup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Math
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Math
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Math/基础概念/" title="基础概念" class="md-nav__link">
      基础概念
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Math/微积分/" title="微积分" class="md-nav__link">
      微积分
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Math/数系/" title="数系" class="md-nav__link">
      数系
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Math/求解线性方程组/" title="求解线性方程组" class="md-nav__link">
      求解线性方程组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Math/线性代数/" title="线性代数" class="md-nav__link">
      线性代数
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Other
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Other
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/8_10b/" title="8 10b" class="md-nav__link">
      8 10b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Bash/" title="Bash" class="md-nav__link">
      Bash
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/CA Authentication/" title="CA Authentication" class="md-nav__link">
      CA Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/CNA_disk/" title="CNA disk" class="md-nav__link">
      CNA disk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Cinder-log/" title="Cinder log" class="md-nav__link">
      Cinder log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Example/" title="Heading" class="md-nav__link">
      Heading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/FibreChannel/" title="FibreChannel" class="md-nav__link">
      FibreChannel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/FusionAccessTerm/" title="FusionAccessTerm" class="md-nav__link">
      FusionAccessTerm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/FusionSphere Openstack R6.1 Organization vdc/" title="FusionSphere Openstack R6.1 Organization vdc" class="md-nav__link">
      FusionSphere Openstack R6.1 Organization vdc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Keystone_Token/" title="Keystone_Token" class="md-nav__link">
      Keystone_Token
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Linux_NetworkDevice/" title="Linux NetworkDevice" class="md-nav__link">
      Linux NetworkDevice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/MIME/" title="MIME类型" class="md-nav__link">
      MIME类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Object Storage characteristics/" title="Object Storage characteristics" class="md-nav__link">
      Object Storage characteristics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/Regular Expression/" title="Regular Expression" class="md-nav__link">
      Regular Expression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/awk/" title="Awk" class="md-nav__link">
      Awk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/disable automount/" title="Disable automount" class="md-nav__link">
      Disable automount
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/iptables/" title="Iptables" class="md-nav__link">
      Iptables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/json/" title="Json" class="md-nav__link">
      Json
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Other/tcpdump/" title="Tcpdump" class="md-nav__link">
      Tcpdump
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/Untitled/" title="Untitled" class="md-nav__link">
      Untitled
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/generator/" title="Generator" class="md-nav__link">
      Generator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/lambda/" title="Lambda" class="md-nav__link">
      Lambda
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/Django/models/" title="Models" class="md-nav__link">
      Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/Django/urlpatterns/" title="Urlpatterns" class="md-nav__link">
      Urlpatterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/issue/一次方法的错误使用/" title="一次方法的错误使用" class="md-nav__link">
      一次方法的错误使用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/issue/字符串sort无返回值/" title="字符串sort无返回值" class="md-nav__link">
      字符串sort无返回值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第一章/" title="第一章" class="md-nav__link">
      第一章
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第七章 类与对象/" title="第七章 类与对象" class="md-nav__link">
      第七章 类与对象
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第三章 使用字符串/" title="第三章 使用字符串" class="md-nav__link">
      第三章 使用字符串
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第九章/" title="第九章" class="md-nav__link">
      第九章
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第二章 列表和元组/" title="第二章 列表和元组" class="md-nav__link">
      第二章 列表和元组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第五章 条件、循环及其他语问/" title="第五章 条件、循环及其他语问" class="md-nav__link">
      第五章 条件、循环及其他语问
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第八章 异常/" title="第八章 异常" class="md-nav__link">
      第八章 异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第六章 函数/" title="第六章 函数" class="md-nav__link">
      第六章 函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/python基础教程/第四章 字典/" title="第四章 字典" class="md-nav__link">
      第四章 字典
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dockerfile" title="Dockerfile" class="md-nav__link">
    Dockerfile
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Dockerfile</h1>
                
                <h2 id="dockerfile">Dockerfile</h2>
<p>工作目录</p>
<p>Dockerfile文件首字母大写</p>
<ol>
<li>
<p><code>#</code>注释</p>
</li>
<li>
<p>INSTRUCTION argument</p>
</li>
<li>
<p>FROM  Dockerfile文件开篇的第一个非注释行</p>
</li>
<li>
<p>MAINTAINER (deprecated)</p>
</li>
<li>
<p><code>LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</code></p>
<pre><code> adds metadata to an image
</code></pre>
</li>
<li>
<p>```
      COPY [--chown=<user>:<group>] <src>... <dest>
      COPY [--chown=<user>:<group>] ["<src>",... "<dest>"]</p>
<p>#<src>必须是build上下文中的路径，不能是其父目录中的文件
  #如果<src>是目录，则其内部文件或子目录会被递归复制，但<src>目录自身不会被复制
  #如果指定了多个<src>，或在<src>中使用了通配符，则<dest>必须是一个目录，且必须以/结尾
  #如果<dest>事先不存在，它将会被自动创建，这包括其父目录路径
  ```</p>
</li>
<li>
<p>```
      ADD [--chown=<user>:<group>] <src>... <dest>
      ADD [--chown=<user>:<group>] ["<src>",... "<dest>"]</p>
<p>#同COPY指令
  #如果<src>为URL且<dest>不以/结尾，则<src>指定的文件将被下载并直接被创建为<dest>；如果<dest>以/结尾，则文件名URL指定的文件将被直接下载并保存为<dest>/<filename>
  #如果<src>是一个本地系统上的压缩格式的tar文件，它将被展开为一个目录，其行为类似于tar -x命令；然而，通过URL获取到的tar文件将不会被自动展开
  如果<src>有多个，或其间接或直接使用了通配符，则<dest>必须是一个目录，且必须以/结尾；如果<dest>不以/结尾，则其被视作一普通文件，<src>的内容将被直接写入到<dest>
  ```</p>
</li>
<li>
<p><code>WORKDIR /path/to/workdir
      #用于为Dockerfile中所有的RUN、CMD、ENTRYPOINT、COPY和ADD指定设定工作目录</code></p>
</li>
<li>
<p><code>VOLUME ["/data"]</code></p>
</li>
<li>
<p><code>EXPOSE &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]
      #用于为容器打开指定要监听的端口以实现与外部通信</code></p>
</li>
<li>
<p><code>ENV &lt;key&gt; &lt;value&gt;
      ENV &lt;key&gt;=&lt;value&gt; ...
      #用于为镜像定义所需的环境变量，并可被Dockerfile文件中位于其后的其它指令（如ENV、ADD、COPY等）所调用
      #也可以在docker run --env &lt;key&gt;=&lt;value&gt; 定义容器运行时的环境变量</code></p>
</li>
<li>
<p>```
       The CMD instruction has three forms:</p>
<p>CMD ["executable","param1","param2"] (exec form, this is the preferred form)
   CMD ["param1","param2"] (as default parameters to ENTRYPOINT)
   CMD command param1 param2 (shell form)</p>
<p>There can only be one CMD instruction in a Dockerfile. If you list more than one CMD then only the last CMD will take effect.</p>
<p>The main purpose of a CMD is to provide defaults for an executing container. </p>
<p>There can only be one CMD instruction in a Dockerfile. If you list more than one CMD then only the last CMD will take effect.</p>
<p>The main purpose of a CMD is to provide defaults for an executing container. 
   ```</p>
</li>
<li>
<p>```
       RUN has 2 forms:</p>
<p>RUN <command> (shell form, the command is run in a shell, which by default is /bin/sh -c on Linux or cmd /S /C on Windows)
   RUN ["executable", "param1", "param2"] (exec form)</p>
<p>The RUN instruction will execute any commands in a new layer on top of the current image and commit the results. The resulting committed image will be used for the next step in the Dockerfile.
   ```</p>
</li>
<li>
<p>```
       ENTRYPOINT ["executable", "param1", "param2"] (exec form, preferred)
       ENTRYPOINT command param1 param2 (shell form)</p>
<p>An ENTRYPOINT allows you to configure a container that will run as an executable.</p>
<p>Command line arguments to docker run <image> will be appended after all elements in an exec form ENTRYPOINT, and will override all elements specified using CMD. This allows arguments to be passed to the entry point, i.e., docker run <image> -d will pass the -d argument to the entry point. You can override the ENTRYPOINT instruction using the docker run --entrypoint flag.
   ```</p>
</li>
<li>
<p>```
       USER <user>[:<group>] or
       USER <UID>[:<GID>]</p>
<p>The USER instruction sets the user name (or UID) and optionally the user group (or GID) to use when running the image and for any RUN, CMD and ENTRYPOINT instructions that follow it in the Dockerfile.
   ```</p>
</li>
<li>
<p>```
       The HEALTHCHECK instruction has two forms:</p>
<p>HEALTHCHECK [OPTIONS] CMD command (check container health by running a command inside the container)
   HEALTHCHECK NONE (disable any healthcheck inherited from the base image)</p>
<p>The HEALTHCHECK instruction tells Docker how to test a container to check that it is still working. This can detect cases such as a web server that is stuck in an infinite loop and unable to handle new connections, even though the server process is still running.</p>
<p>When a container has a healthcheck specified, it has a health status in addition to its normal status. This status is initially starting. Whenever a health check passes, it becomes healthy (whatever state it was previously in). After a certain number of consecutive failures, it becomes unhealthy.</p>
<p>The options that can appear before CMD are:</p>
<p>--interval=DURATION (default: 30s)
   --timeout=DURATION (default: 30s)
   --start-period=DURATION (default: 0s)
   --retries=N (default: 3)
   The health check will first run interval seconds after the container is started, and then again interval seconds after each previous check completes.</p>
<p>If a single run of the check takes longer than timeout seconds then the check is considered to have failed.</p>
<p>It takes retries consecutive failures of the health check for the container to be considered unhealthy.</p>
<p>start period provides initialization time for containers that need time to bootstrap. Probe failure during that period will not be counted towards the maximum number of retries. However, if a health check succeeds during the start period, the container is considered started and all consecutive failures will be counted towards the maximum number of retries.</p>
<p>There can only be one HEALTHCHECK instruction in a Dockerfile. If you list more than one then only the last HEALTHCHECK will take effect.</p>
<p>The command after the CMD keyword can be either a shell command (e.g. HEALTHCHECK CMD /bin/check-running) or an exec array (as with other Dockerfile commands; see e.g. ENTRYPOINT for details).</p>
<p>The command’s exit status indicates the health status of the container. The possible values are:</p>
<p>0: success - the container is healthy and ready for use
   1: unhealthy - the container is not working correctly
   2: reserved - do not use this exit code
   For example, to check every five minutes or so that a web-server is able to serve the site’s main page within three seconds:</p>
<p>HEALTHCHECK --interval=5m --timeout=3s \
     CMD curl -f http://localhost/ || exit 1
   To help debug failing probes, any output text (UTF-8 encoded) that the command writes on stdout or stderr will be stored in the health status and can be queried with docker inspect. Such output should be kept short (only the first 4096 bytes are stored currently).</p>
<p>When the health status of a container changes, a health_status event is generated with the new status.</p>
<p>The HEALTHCHECK feature was added in Docker 1.12.
   ```</p>
</li>
<li>
<p>```
       SHELL ["executable", "parameters"]</p>
<p>The SHELL instruction allows the default shell used for the shell form of commands to be overridden. The default shell on Linux is ["/bin/sh", "-c"], and on Windows is ["cmd", "/S", "/C"]. The SHELL instruction must be written in JSON form in a Dockerfile.</p>
<p>The SHELL instruction is particularly useful on Windows where there are two commonly used and quite different native shells: cmd and powershell, as well as alternate shells available including sh.
   ```</p>
</li>
<li>
<p>```
       STOPSIGNAL signal</p>
<p>The STOPSIGNAL instruction sets the system call signal that will be sent to the container to exit. This signal can be a valid unsigned number that matches a position in the kernel’s syscall table, for instance 9, or a signal name in the format SIGNAME, for instance SIGKILL.
   ```</p>
</li>
<li>
<p>```
       ARG <name>[=<default value>]</p>
<p>The ARG instruction defines a variable that users can pass at build-time to the builder with the docker build command using the --build-arg <varname>=<value> flag. If a user specifies a build argument that was not defined in the Dockerfile, the build outputs a warning.
   ```</p>
</li>
<li>
<p>```
       ONBUILD [INSTRUCTION]</p>
<p>用于在Dockerfile中定义一个触发器
   Dockerfile用于build映像文件，此映像文件亦可作为base image被另一个Dockerfile用作FROM指令的参数，并以之构建新的映像文件
   在后面的这个Dockerfile中的FROM指令在build过程中被执行时，将会“解发”创建其base image的Dockerfile文件中的ONBULID指令定义的触发器
   尽管任何指令都可注册成为触发器指令，但ONBUILD不能自我嵌套，且不会触发FROM和MAINTAINER指令
   使用包含 ONBUILD指令的Dockerfile构建的镜像应该使用特殊的标签，例如ruby-2.0-onbuild
   在ONBUILD指令中使用ADD或COPY指令应该格外小心，因为新构建过程的上下文在缺少指定的源文件时会失败
   ```</p>
</li>
<li></li>
<li>
<p>每个Dockerfile上的instruction都会创建一个分层</p>
</li>
</ol>
<p>.dockeringore</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Base/" title="Base" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Base
              </span>
            </div>
          </a>
        
        
          <a href="../bridge/" title="Bridge" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Bridge
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>